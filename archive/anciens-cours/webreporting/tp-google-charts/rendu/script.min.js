var creationRendu=function(o){var m,l,k,g,b,u,i,a,q,p,r,j,f,t,n,v;m=["C3F800","FF4F00"];l="CFCFCF";k=google.visualization.data.group(o,[2],[{column:1,aggregation:google.visualization.data.count,type:"number"}]);g=google.visualization.data.group(o,[2],[{column:1,aggregation:google.visualization.data.sum,type:"number"}]);b=k;u=new google.visualization.DataView(o);u.hideColumns([2]);i=new google.visualization.PieChart(document.getElementById("pieChart"));a={title:"Répartition des groupes",colors:m,pieSliceTextStyle:{color:"#222"}};q=new google.visualization.Table(document.getElementById("tab"));p={showRowNumber:true,sort:"disable"};r=new google.visualization.ColumnChart(document.getElementById("columnChart"));j={title:"Répartition des valeurs selon les modalités",legend:"none",colors:[l]};f=new google.visualization.BarChart(document.getElementById("barChart"));t={legend:"none",colors:[l]};function h(){i.draw(b,a);q.draw(o,p);t.colors=[l];f.draw(u,t);j.title="Répartition des valeurs selon les modalités";j.colors=[l];r.draw(u,j)}function w(x){if(x!==undefined){q.setSelection([{row:x,column:null}]);r.setSelection([{row:x,column:1}]);f.setSelection([{row:x,column:1}])}else{q.setSelection([]);r.setSelection([]);f.setSelection([])}}function d(){var x=q.getSelection()[0];if(x){w(x.row)}else{w()}}google.visualization.events.addListener(q,"select",d);function c(){var x=r.getSelection()[0];if(x){w(x.row)}else{w()}}google.visualization.events.addListener(r,"select",c);function s(){var x=f.getSelection()[0];if(x){w(x.row)}else{w()}}google.visualization.events.addListener(f,"select",s);n=document.getElementById("repNombre");v=document.getElementById("repSomme");n.onclick=function(){b=k;h()};v.onclick=function(){b=g;h()};function e(){var y=i.getSelection()[0],x,z,A;if(y){x=b.getValue(y.row,0);z=o.getFilteredRows([{column:2,value:x}]);A=new google.visualization.DataView(o);A.setRows(z);q.draw(A,p);A.hideColumns([2]);t.colors=[m[y.row]];f.draw(A,t);j.title="Modalités du groupe "+x;j.colors=[m[y.row]];r.draw(A,j)}else{h()}}google.visualization.events.addListener(i,"select",e);h()};function go(){$.getJSON("donnees.json",function(a){var b=new google.visualization.DataTable();b.addColumn("string","Modalite");b.addColumn("number","Valeur");b.addColumn("string","Groupe");a.valeurs.forEach(function(c,d){b.addRows([[a.modalites[d],c,a.groupe[d]]])});creationRendu(b)})};