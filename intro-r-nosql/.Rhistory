(SELECT IdGymnase
FROM seances
WHERE LOWER(Jour) = 'dimanche')
")
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball"))
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball"))
??union
mtcars$model <- rownames(mtcars)
first <- mtcars[1:20, ]
second <- mtcars[10:32, ]
intersect(first, second)
union(first, second)
setdiff(first, second)
setdiff(second, first)
union_all(first, second)
setequal(mtcars, mtcars[32:1, ])
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")) %>%
setdiff(
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball")))
)
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")) %>%
setdiff(
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball")))
)
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")) %>%
setdiff(
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball")))
) %>%
select(NomGymnase, Ville) %>%
distinct()
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")) %>%
setdiff(
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball")))
) %>%
select(NomGymnase, Ville) %>%
distinct()
sqldf("
SELECT NomGymnase, Ville
FROM gymnases
WHERE IdGymnase IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle IN ('Basket ball', 'Hand ball'))
AND IdGymnase NOT IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle NOT IN ('Basket ball', 'Hand ball'))
")
sqldf("
SELECT NomGymnase, Ville
FROM gymnases
WHERE IdGymnase IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle IN ('Basket ball', 'Volley ball'))
AND IdGymnase NOT IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle NOT IN ('Basket ball', 'Volley ball'))
")
gymnases
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")) %>%
anti_join(
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball")))
) %>%
select(NomGymnase, Ville) %>%
distinct()
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball"))
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball"))
gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")))
gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball"))))
gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball"))))
a = gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball")))
b = gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball"))))
a$IdGymnase
b$IdGymnase
anti_join(a, b)
anti_join(a$IdGymnase, b$IdGymnase)
a = gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball"))) %>%
anti_join(
gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball"))))
)
a
a = gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(Libelle %in% c("Basket ball", "Volley ball"))) %>%
anti_join(
gymnases %>%
semi_join(seances %>%
inner_join(sports) %>%
filter(!(Libelle %in% c("Basket ball", "Volley ball"))))
) %>%
select(NomGymnase, Ville) %>%
distinct()
a
sqldf("
SELECT NomGymnase, Ville
FROM gymnases
WHERE IdGymnase IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle IN ('Basket ball', 'Volley ball'))
AND IdGymnase NOT IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle NOT IN ('Basket ball', 'Volley ball'))
")
sqldf("
SELECT NomGymnase, Ville
FROM gymnases
WHERE IdGymnase IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle IN ('Basket ball', 'Volley ball'))
AND IdGymnase NOT IN
(SELECT IdGymnase
FROM seances NATURAL JOIN sports
WHERE Libelle NOT IN ('Basket ball', 'Volley ball'))
")
gymnases %>%
group_by(Ville) %>%
filter(Surface = max(Surface))
gymnases %>%
group_by(Ville) %>%
filter(Surface == max(Surface))
gymnases %>%
group_by(Ville) %>%
filter(Surface == max(Surface))
gymnases %>%
filter(lower(Ville) %in% c("Stains", "Montmorency"))%>%
group_by(Ville) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("Stains", "Montmorency"))%>%
group_by(Ville) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("Stains", "Montmorency"))%>%
group_by(Ville) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("Stains", "Montmorency"))%>%
inner_join(gymnases %>%
group_by(Ville) %>%
summarise(maxSurface = max(Surface))) %>%
filter(Surface == maxSurface) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("Stains", "Montmorency"))%>%
inner_join(gymnases %>%
group_by(Ville) %>%
summarise(maxSurface = max(Surface))) %>%
filter(Surface == maxSurface) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("Stains", "Montmorency"))%>%
inner_join(gymnases %>%
group_by(Ville) %>%
summarise(maxSurface = max(Surface)))
gymnases %>%
group_by(Ville) %>%
summarise(maxSurface = max(Surface))
gymnases %>%
filter(tolower(Ville) %in% c("stains", "montmorency"))%>%
inner_join(gymnases %>%
group_by(Ville) %>%
summarise(maxSurface = max(Surface))) %>%
filter(Surface == maxSurface) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("stains", "montmorency"))%>%
#inner_join(gymnases %>%
group_by(Ville) %>%
#             summarise(maxSurface = max(Surface))) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("stains", "montmorency"))%>%
#inner_join(gymnases %>%
group_by(Ville) %>%
#             summarise(maxSurface = max(Surface))) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville)
gymnases %>%
filter(tolower(Ville) %in% c("stains", "montmorency"))%>%
#inner_join(gymnases %>%
group_by(Ville) %>%
#             summarise(maxSurface = max(Surface))) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville, Surface)
gymnases %>%
filter(tolower(Ville) %in% c("stains", "montmorency")) %>%
group_by(Ville) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville, Surface)
sportifs %>%
semi_join(
entrainer %>% inner_join(sports %>% filter(Libelle %in% c("Hand ball", "Basket ball"))),
by = c("IdSportif" = "IdSportifEntraineur")
) %>%
anti_join(
entrainer %>% inner_join(sports %>% filter(!(Libelle %in% c("Hand ball", "Basket ball")))),
by = c("IdSportif" = "IdSportifEntraineur")
) %>%
select(Nom, Prenom)
sportifs %>%
semi_join(
entrainer %>% inner_join(sports %>% filter(Libelle %in% c("Hand ball", "Basket ball"))),
by = c("IdSportif" = "IdSportifEntraineur")
) %>%
anti_join(
entrainer %>% inner_join(sports %>% filter(!(Libelle %in% c("Hand ball", "Basket ball")))),
by = c("IdSportif" = "IdSportifEntraineur")
) %>%
select(Nom, Prenom)
sportifs %>%
semi_join(
sportifs %>%
inner_join(jouer) %>%
inner_join(sports) %>%
filter(Libelle == "Basket ball"),
by = c("IdSportif" = "IdSportifConseiller")
) %>%
select(Nom, Prenom)
sportifs %>%
semi_join(
sportifs %>%
inner_join(jouer) %>%
inner_join(sports) %>%
filter(Libelle == "Basket ball"),
by = c("IdSportif" = "IdSportifConseiller")
) %>%
select(Nom, Prenom)
sqldf("
SELECT Nom, Prenom
FROM sportifs
WHERE IdSportif IN
(SELECT IdSportifConseiller
FROM (sportifs NATURAL JOIN jouer) NATURAL JOIN sports
WHERE Libelle = 'Basket ball')
")
gymnases %>%
filter(tolower(Ville) == "stains") %>%
group_by(Ville) %>%
summarise(Premiere = min(Horaire),
Derniere = max(Horaire))
gymnases %>%
filter(tolower(Ville) == "stains") %>%
inner_join(seances) %>%
group_by(Ville) %>%
summarise(Premiere = min(Horaire),
Derniere = max(Horaire))
gymnases %>%
filter(tolower(Ville) == "stains") %>%
inner_join(seances) %>%
group_by(Ville) %>%
summarise(Premiere = min(Horaire),
Derniere = max(Horaire))
gymnases %>%
filter(tolower(Ville) == "stains") %>%
inner_join(seances) %>%
group_by(NomGymnase) %>%
summarise(Premiere = min(Horaire),
Derniere = max(Horaire))
gymnases %>%
filter(tolower(Ville) == "stains") %>%
inner_join(seances) %>%
group_by(NomGymnase, tolower(Jour)) %>%
summarise(Premiere = min(Horaire),
Derniere = max(Horaire))
gymnases %>%
inner_join(seances) %>%
filter(tolower(Jour) = "mercredi") %>%
gymnases %>%
inner_join(seances) %>%
filter(tolower(Jour) == "mercredi") %>%
group_by(NomGymnase, Ville) %>%
summarise(n = n()) %>%
filter(n > 1)
gymnases %>%
inner_join(seances) %>%
filter(tolower(Jour) == "mercredi") %>%
group_by(NomGymnase, Ville) %>%
summarise(n = n()) %>%
filter(n > 1)
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle == "Volley ball") %>%
group_by(NomGymnase, Ville) %>%
summarise(n = n()) %>%
filter(n > 1)
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle == "Volley ball") %>%
group_by(NomGymnase, Ville) %>%
summarise(n = n()) %>%
filter(n > 1)
gymnases %>%
inner_join(seances) %>%
inner_join(sports) %>%
filter(Libelle == "Volley ball") %>%
group_by(NomGymnase, Ville) %>%
summarise(n = n()) %>%
filter(n > 4)
sportifs %>%
inner_join(
jouer %>% group_by(IdSportif) %>%
summarise(nbJ = n())
) %>%
inner_join(
arbitrer %>% group_by(IdSportif) %>%
summarise(nbA = n())
)
sportifs %>%
inner_join(
jouer %>% group_by(IdSportif) %>%
summarise(nbJ = n())
) %>%
inner_join(
arbitrer %>% group_by(IdSportif) %>%
summarise(nbA = n())
) %>%
select(Nom, Prenom, nbJ, nbA)
sportifs %>%
inner_join(
jouer %>% group_by(IdSportif) %>%
summarise(nbJ = n())
) %>%
inner_join(
arbitrer %>% group_by(IdSportif) %>%
summarise(nbA = n())
) %>%
select(Nom, Prenom, nbJ, nbA)
sportifs %>%
full_join(
jouer %>% group_by(IdSportif) %>%
summarise(nbJ = n())
) %>%
full_join(
arbitrer %>% group_by(IdSportif) %>%
summarise(nbA = n())
) %>%
select(Nom, Prenom, nbJ, nbA)
?n
sportifs %>%
full_join(
jouer %>% group_by(IdSportif) %>%
summarise(nbJ = n())
) %>%
full_join(
arbitrer %>% group_by(IdSportif) %>%
summarise(nbA = n())
) %>%
full_join(
entrainer %>% group_by(IdSportifEntraineur) %>%
summarise(nbE = n()),
by = c("IdSportif" = "IdSportifEntraineur")
) %>%
select(Nom, Prenom, nbJ, nbA, nbE)
mtcars %>%
group_by(cyl, vs) %>%
summarise(cyl_n = n()) %>%
group_vars()
mtcars %>%
group_by(cyl, vs) %>%
summarise(cyl_n = n())
?group_vars
df <- tibble(x = 1, y = 2) %>% group_by(x, y)
group_vars(df)
groups(df)
mtcars %>%
group_by(cyl, vs) %>%
summarise(cyl_n = n()) %>%
summarise(test = n() * 2)
seances %>%
group_by(IdGymnase) %>%
summarise(n = n())
seances %>%
group_by(IdGymnase) %>%
summarise(n = n())
seances %>%
group_by(IdGymnase, tolower(Jour)) %>%
summarise(n = n())
res = seances %>%
group_by(IdGymnase, tolower(Jour)) %>%
summarise(n = n())) %>%
res = seances %>%
group_by(IdGymnase, tolower(Jour)) %>%
summarise(n = n())
res
library(tidyr)
res = seances %>%
mutate(Jour = tolower(Jour)) %>%
group_by(IdGymnase, Jour) %>%
summarise(n = n())
res
res %>% spread(Jour, n)
res %>% spread(Jour, n)
?select
names(gym   )
names(gymnases)
seances %>%
mutate(Jour = tolower(Jour)) %>%
group_by(IdGymnase, Jour) %>%
summarise(n = n()) %>%
spread(Jour, n) %>%
inner_join(gymnases) %>%
select(IdGymnase, NomGymnase, Ville,
-Surface, -Adresse,
everything())
seances %>%
mutate(Jour = tolower(Jour)) %>%
group_by(IdGymnase, Jour) %>%
summarise(n = n()) %>%
spread(Jour, n) %>%
inner_join(gymnases) %>%
select(IdGymnase, NomGymnase, Ville,
-Surface, -Adresse,
everything())
sportifs %>%
anti_join(jouer) %>%
anti_join(arbitrer) %>%
anti_join(entrainer,
by = c("IdSportif" = "IdSportifEntrainer"))
select(IdSportif, Nom, Prenom)
sportifs %>%
anti_join(jouer) %>%
anti_join(arbitrer) %>%
anti_join(entrainer,
by = c("IdSportif" = "IdSportifEntrainer")) %>%
select(IdSportif, Nom, Prenom)
sportifs %>%
anti_join(jouer) %>%
anti_join(arbitrer) %>%
anti_join(entrainer,
by = c("IdSportif" = "IdSportifEntraineur")) %>%
select(IdSportif, Nom, Prenom)
gymnases %>%
filter(tolower(Ville) %in% c("stains", "montmorency")) %>%
group_by(Ville) %>%
filter(Surface == max(Surface)) %>%
select(NomGymnase, Ville, Surface) %>%
arrange(Ville)
